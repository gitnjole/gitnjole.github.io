<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Production-ready fizzbuzz (Part 1) | Antonio Cahun </title> <meta name="author" content="Antonio Cahun"> <meta name="description" content="A journey through the 9 circles of design patterns"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.ico?def61204873e34cd89d999418aa85406"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://gitnjole.github.io/blog/2024/fizzbuzz/"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?0afe9f0ae161375728f7bcc5eb5b4ab4"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Antonio</span> Cahun </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/news/">news </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Production-ready fizzbuzz (Part 1)</h1> <p class="post-meta"> March 03, 2024 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/php"> <i class="fa-solid fa-hashtag fa-sm"></i> php</a>   <a href="/blog/tag/design"> <i class="fa-solid fa-hashtag fa-sm"></i> design</a>   <a href="/blog/tag/pattern"> <i class="fa-solid fa-hashtag fa-sm"></i> pattern</a>     ·   <a href="/blog/category/fizzbuzz"> <i class="fa-solid fa-tag fa-sm"></i> fizzbuzz</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <h1 id="embarking-on-the-production-journey">Embarking on the Production Journey</h1> <p>Imagine a problem set before you:</p> <p>Given an array <code class="language-plaintext highlighter-rouge">array</code>, your task is to return a string array called <code class="language-plaintext highlighter-rouge">answer</code> (1-indexed) where:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">answer[i]</code> is “FizzBuzz” if i is divisible by both 3 and 5.</li> <li> <code class="language-plaintext highlighter-rouge">answer[i]</code> is “Fizz” if i is divisible by 3.</li> <li> <code class="language-plaintext highlighter-rouge">answer[i]</code> is “Buzz” if i is divisible by 5.</li> <li> <code class="language-plaintext highlighter-rouge">answer[i]</code> is the string representation of i if none of the above conditions are met.</li> </ul> <p>Consider these examples:</p> <p>Example 1:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: <span class="nv">$array</span> <span class="o">=</span> range<span class="o">(</span>1,3<span class="o">)</span>
Output: <span class="o">[</span><span class="s2">"1"</span>,<span class="s2">"2"</span>,<span class="s2">"Fizz"</span><span class="o">]</span>
</code></pre></div></div> <p>Example 2:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: <span class="nv">$array</span> <span class="o">=</span> range<span class="o">(</span>1,5<span class="o">)</span>
Output: <span class="o">[</span><span class="s2">"1"</span>,<span class="s2">"2"</span>,<span class="s2">"Fizz"</span>,<span class="s2">"4"</span>,<span class="s2">"Buzz"</span><span class="o">]</span>
</code></pre></div></div> <p>Example 3:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: <span class="nv">$array</span> <span class="o">=</span> range<span class="o">(</span>1,15<span class="o">)</span>
Output: <span class="o">[</span><span class="s2">"1"</span>,<span class="s2">"2"</span>,<span class="s2">"Fizz"</span>,<span class="s2">"4"</span>,<span class="s2">"Buzz"</span>,<span class="s2">"Fizz"</span>,<span class="s2">"7"</span>,<span class="s2">"8"</span>,<span class="s2">"Fizz"</span>,<span class="s2">"Buzz"</span>,<span class="s2">"11"</span>,<span class="s2">"Fizz"</span>,<span class="s2">"13"</span>,<span class="s2">"14"</span>,<span class="s2">"FizzBuzz"</span><span class="o">]</span>
</code></pre></div></div> <p>Constraints:</p> <ul> <li>1 &lt;= n &lt;= 10^4</li> </ul> <p>It’s a fundamental programming challenge, testing basic division and loop comprehension. My mission? To craft a production-ready, highly scalable, and pattern-constrained FizzBuzz program using PHP.</p> <p>Throughout this journey, we’ll progressively enhance the solution, layering in increasingly sophisticated design patterns until we birth a truly refined, functional codebase. One poised for global deployment, destined to be embraced by billions as the definitive FizzBuzz solution.</p> <p>In Part 1 of this series, our focus lies on crafting a <strong>simple</strong>, functional FizzBuzz implementation.</p> <h1 id="unveiling-the-simple-solution">Unveiling the Simple Solution</h1> <p>Let’s revisit the problem statement: we’re tasked with processing an integer representing the range of numbers to be assessed. For each number, we check if it’s divisible by 3 or 5, appending “Fizz” or “Buzz” accordingly. If divisible by both, we output “FizzBuzz”. Otherwise, we pass the number unchanged.</p> <p>Here’s my implementation:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$array</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">);</span>

<span class="nv">$answer</span> <span class="o">=</span> <span class="nb">array_map</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$number</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$output</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nv">$number</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="nv">$output</span> <span class="mf">.</span><span class="o">=</span> <span class="s1">'Fizz'</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$number</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="nv">$output</span> <span class="mf">.</span><span class="o">=</span> <span class="s1">'Buzz'</span><span class="p">;</span>

    <span class="k">return</span> <span class="nv">$output</span> <span class="o">?:</span> <span class="nv">$number</span><span class="p">;</span>
<span class="p">},</span> <span class="nv">$array</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$answer</span><span class="p">);</span>
</code></pre></div></div> <p>This code yields the following output:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Array
<span class="o">(</span>
    <span class="o">[</span>0] <span class="o">=&gt;</span> 1
    <span class="o">[</span>1] <span class="o">=&gt;</span> 2
    <span class="o">[</span>2] <span class="o">=&gt;</span> Fizz
    <span class="o">[</span>3] <span class="o">=&gt;</span> 4
    <span class="o">[</span>4] <span class="o">=&gt;</span> Buzz
    <span class="o">[</span>5] <span class="o">=&gt;</span> Fizz
    <span class="o">[</span>6] <span class="o">=&gt;</span> 7
    <span class="o">[</span>7] <span class="o">=&gt;</span> 8
    <span class="o">[</span>8] <span class="o">=&gt;</span> Fizz
    <span class="o">[</span>9] <span class="o">=&gt;</span> Buzz
    <span class="o">[</span>10] <span class="o">=&gt;</span> 11
    <span class="o">[</span>11] <span class="o">=&gt;</span> Fizz
    <span class="o">[</span>12] <span class="o">=&gt;</span> 13
    <span class="o">[</span>13] <span class="o">=&gt;</span> 14
    <span class="o">[</span>14] <span class="o">=&gt;</span> FizzBuzz
<span class="o">)</span>

</code></pre></div></div> <p>I’ve used the built-in <code class="language-plaintext highlighter-rouge">array_map()</code> function which iterates over each element of the <code class="language-plaintext highlighter-rouge">$array</code> array, applying our lambda function to each element. The result is an array containing the modified elements according to the FizzBuzz logic.</p> <p>This solution works very well. You might’ve noticed that I haven’t included the edge case of passing in a <code class="language-plaintext highlighter-rouge">0</code>. Our constraint states that the numbers inside the array have to be positive integers up to 10,000 so that is what we will stick to throughout this blog, but in case you were wondering we could easily fix this problem by adding the following statement:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$array</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>

<span class="nv">$answer</span> <span class="o">=</span> <span class="nb">array_map</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="nv">$number</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$output</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

    <span class="cd">/**
     * This if statement checks if
     * our number is that troublesome
     * zero.
    */</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$number</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$number</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nv">$number</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="nv">$output</span> <span class="mf">.</span><span class="o">=</span> <span class="s1">'Fizz'</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$number</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="nv">$output</span> <span class="mf">.</span><span class="o">=</span> <span class="s1">'Buzz'</span><span class="p">;</span>

    <span class="k">return</span> <span class="nv">$output</span> <span class="o">?:</span> <span class="nv">$number</span><span class="p">;</span>
<span class="p">},</span> <span class="nv">$array</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$answer</span><span class="p">);</span>
</code></pre></div></div> <p>So far, so good. The code functions as intended, boasting optimal efficiency with a big O notation of O(n). Yet, our management craves more: they seek complexity, <em>scalability</em>, and <strong>modernity</strong>.</p> <p>And that’s precisely what you’ll find in this blog. An evolved FizzBuzz apparatus. A fizzbutus<sup>TM</sup>, if you will. In the upcoming chapters, we’ll transform our solution into an object-oriented paradigm, a beacon of modern ingenuity and programmer resourcefulness, by integrating our first design pattern: the <strong>Flyweight</strong>.</p> <p>Stay tuned!</p> </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Antonio Cahun. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: April 22, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?da39b660470d1ba6e6b8bf5f37070b6e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>